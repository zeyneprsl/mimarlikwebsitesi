<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Admin Paneli</title>
    <style>
    body{font-family:sans-serif;background:#faf9f6;padding:2rem;}
    h2{margin-top:0;}
    .panel-flex{display:flex;gap:2.5rem;margin-bottom:1.2rem;}
    .panel-col{flex:1;display:flex;flex-direction:column;gap:1.1rem;}
    form.panel-form{background:#fff;padding:1.5rem 2rem 1.2rem 2rem;border-radius:18px;box-shadow:0 2px 16px #eee;max-width:1200px;margin:2rem auto 2.5rem auto;}
    .panel-col label{font-size:0.98rem;color:#888;margin-bottom:0.2rem;}
    input,textarea{margin:0;padding:0.6rem 0.9rem;border:1px solid #ccc;border-radius:8px;width:100%;font-size:1rem;background:#faf9f6;transition:border 0.2s;}
    input:focus,textarea:focus{border:1.5px solid #bfa97a;outline:none;}
    button{padding:0.6rem 0;background:linear-gradient(45deg,#bfa97a,#c8b08b);color:#fff;border:none;border-radius:8px;font-weight:bold;font-size:1.1rem;cursor:pointer;transition:background 0.2s;margin-top:0.7rem;}
    button:hover{background:linear-gradient(45deg,#ff6b6b,#bfa97a);}
    table{margin:2.5rem auto 0 auto;width:96%;background:#fff;border-radius:16px;box-shadow:0 2px 12px #eee;font-size:1.08rem;}
    th,td{padding:1.1rem 1.2rem;text-align:left;}
    tr:nth-child(even){background:#f5f5f5;}
    th{font-size:1.13rem;}
    a{color:#bfa97a;text-decoration:none;}
    a:hover{text-decoration:underline;}
    @media (max-width:1200px){form.panel-form{max-width:99vw;}table{width:99vw;}}
    @media (max-width:900px){.panel-flex{flex-direction:column;gap:1rem;}.panel-form{padding:1rem 0.5rem;}table{font-size:1rem;}}
    </style>
</head>
<body>
    <h2>Site AyarlarÄ±</h2>
    <form method="post" action="/admin/settings" enctype="multipart/form-data" class="panel-form">
        <div class="panel-flex">
            <div class="panel-col">
                <label>Hero Arkaplan GÃ¶rseli</label>
                <input type="file" name="heroImageFile" accept="image/*">
                <small>Mevcut: <%= (settings && settings.heroBackgroundUrl) ? settings.heroBackgroundUrl : 'â€”' %></small>
                <input type="text" name="heroBackgroundUrl" value="<%= (settings && settings.heroBackgroundUrl) || '' %>" placeholder="(Ä°sterseniz URL de girebilirsiniz)">
                <label>Hero BaÅŸlÄ±k</label>
                <input type="text" name="heroTitle" value="<%= (settings && settings.heroTitle) || '' %>" placeholder="MÄ°MARÄ° MÃœKEMMELLÄ°K">
                <label>Hero Alt BaÅŸlÄ±k</label>
                <input type="text" name="heroSubtitle" value="<%= (settings && settings.heroSubtitle) || '' %>" placeholder="GeleceÄŸin yapÄ±larÄ±nÄ± bugÃ¼n tasarlÄ±yoruz">
                <hr style="margin:1rem 0; opacity:0.3">
                <label>HakkÄ±mÄ±zda BaÅŸlÄ±k</label>
                <input type="text" name="aboutTitle" value="<%= (settings && settings.aboutTitle) || '' %>" placeholder="HakkÄ±mÄ±zda">
                <label>HakkÄ±mÄ±zda Metin</label>
                <textarea name="aboutText" rows="5" placeholder="HakkÄ±mÄ±zda metni"><%= (settings && settings.aboutText) || '' %></textarea>
                <hr style="margin:1rem 0; opacity:0.3">
                <h3>Ä°letiÅŸim & Konum</h3>
                <label>Adres</label>
                <input type="text" name="contactAddress" value="<%= (settings && settings.contactAddress) || '' %>">
                <label>Telefon 1</label>
                <input type="text" name="phonePrimary" value="<%= (settings && settings.phonePrimary) || '' %>">
                <label>Telefon 2</label>
                <input type="text" name="phoneSecondary" value="<%= (settings && settings.phoneSecondary) || '' %>">
                <label>E-posta</label>
                <input type="email" name="email" value="<%= (settings && settings.email) || '' %>">
                <label>Instagram URL</label>
                <input type="text" name="instagramUrl" value="<%= (settings && settings.instagramUrl) || '' %>">
                <label>LinkedIn URL</label>
                <input type="text" name="linkedinUrl" value="<%= (settings && settings.linkedinUrl) || '' %>">
                <label>Google Maps Embed URL</label>
                <input type="text" name="mapEmbedUrl" value="<%= (settings && settings.mapEmbedUrl) || '' %>">
                <label>Hizmetler (her satÄ±r: ikon|baÅŸlÄ±k|aÃ§Ä±klama)</label>
                <textarea name="servicesInput" rows="6" placeholder="ðŸ—ï¸|Mimari TasarÄ±m|Ã–zgÃ¼n ve iÅŸlevsel mimari Ã§Ã¶zÃ¼mler sunuyoruz."><%= (settings && settings.services ? settings.services.map(s=>`${s.icon}|${s.title}|${s.desc}`).join('\n') : '') %></textarea>
                <button type="submit">AyarlarÄ± Kaydet</button>
            </div>
        </div>
    </form>

    <h2>Yeni Proje Ekle</h2>
    <form method="post" action="/admin/add" enctype="multipart/form-data" class="panel-form">
        <div class="panel-flex">
            <div class="panel-col">
                <h3>Ana Sayfada GÃ¶rÃ¼necek Bilgiler</h3>
                <label>Proje AdÄ±</label>
                <input type="text" name="name" placeholder="Proje AdÄ±" required>
                <label>AÃ§Ä±klama</label>
                <textarea name="desc" placeholder="AÃ§Ä±klama" required></textarea>
                <label>Etiketler (virgÃ¼lle)</label>
                <input type="text" name="tags" placeholder="Etiketler (virgÃ¼lle)">
                <label>Resim YÃ¼kle</label>
                <input type="file" name="imageFile">
                <span style="font-size:0.95rem;color:#888;">veya</span>
                <input type="text" name="imageUrl" placeholder="Ana GÃ¶rsel Linki (Ana sayfa kartÄ±nda gÃ¶rÃ¼nÃ¼r)">
            </div>
            <div class="panel-col">
                <h3>Detay EkranÄ±nda GÃ¶rÃ¼necek Ek Bilgiler</h3>
                <label>BaÅŸlÄ±k GÃ¶rseli Linki (Detay sayfa Ã¼st gÃ¶rseli)</label>
                <input type="text" name="headerImage" placeholder="BaÅŸlÄ±k GÃ¶rseli Linki">
                <label>Detay Ana GÃ¶rsel Linki (BÃ¼yÃ¼k gÃ¶rsel)</label>
                <input type="text" name="mainImage" placeholder="Detay Ana GÃ¶rsel Linki">
                <label>YÄ±l (Detayda gÃ¶rÃ¼nÃ¼r)</label>
                <input type="text" name="year" placeholder="YÄ±l">
                <label>Åžehir (Detayda gÃ¶rÃ¼nÃ¼r)</label>
                <input type="text" name="city" placeholder="Åžehir">
                <label>Galeri GÃ¶rselleri (virgÃ¼lle, detayda kÃ¼Ã§Ã¼k galeri olarak gÃ¶rÃ¼nÃ¼r)</label>
                <input type="text" name="gallery" placeholder="Galeri GÃ¶rselleri">
            </div>
        </div>
        <button type="submit">Ekle</button>
    </form>
    <h2>Projeler</h2>
    <table>
        <tr><th>Resim</th><th>AdÄ±</th><th>AÃ§Ä±klama</th><th>Etiketler</th><th>Ä°ÅŸlem</th></tr>
        <% projects.forEach(function(p){ %>
        <tr>
            <td><% if(p.image){ %><img src="<%= p.image %>" style="max-width:80px;max-height:60px;"> <% } %></td>
            <td><%= p.name %></td>
            <td><%= p.desc %></td>
            <td><%= p.tags.join(', ') %></td>
            <td>
                <form method="post" action="/admin/delete/<%= p.id %>" style="display:inline"><button type="submit">Sil</button></form>
                <a href="/admin/edit/<%= p.id %>">DÃ¼zenle</a>
            </td>
        </tr>
        <% }) %>
    </table>
</body>
</html> 